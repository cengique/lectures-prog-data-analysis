<!doctype html><html lang=en><head><meta charset=utf-8><title>Recursion</title>
<meta name=description content="Lectures and other resources"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black-translucent"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel=stylesheet href=/lectures-prog-data-analysis/reveal-js/dist/reset.css><link rel=stylesheet href=/lectures-prog-data-analysis/reveal-js/dist/reveal.css><link rel=stylesheet href=/lectures-prog-data-analysis/reveal-hugo/themes/robot-lung.css id=theme><link rel=stylesheet href=/lectures-prog-data-analysis/highlight-js/default.min.css><style>.reveal strong{color:blue}.home-link{position:absolute;left:10px;bottom:20px}.reveal section.side-by-side figure{position:absolute}.reveal section.side-by-side figure:first-of-type{left:5%}.reveal section.side-by-side figure:nth-of-type(2){right:5%}.reveal figure.float-left{float:left}</style></head><body><div class=reveal><div class=slides><section><style>div.goat>svg{width:200px;max-height:200px;margin-left:auto;margin-right:auto}</style><h3 id=re-introduction-to-software-engineering>Recursion</h3><h4 id=itec-3870-software-development-ii-br-anca-doloc-mihu-and-cengiz-günay>ITEC 3160 Programming for Data Analysis,<br>Cengiz Günay</h4><p>(License: <a href=http://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0</a>)</p><p><a class="nav nav-prev" href=https://cengique.github.io/lectures-prog-data-analysis/chapter-exceptions/ title="Errors and Exceptions"><i class="fas fa-arrow-left" aria-hidden=true></i> Prev - Errors and Exceptions</a>, <span></span><a class="nav nav-next" href=https://cengique.github.io/lectures-prog-data-analysis/chapter-data-structures/ title="Data structures and performance">Next - Data structures and performance <i class="fas fa-arrow-right" aria-hidden=true></i></a></p></section><section><p><a href=http://smbc-comics.com/comic/recursion target=_blank rel="noreferrer noopener"><img src=https://www.smbc-comics.com/comics/1562409923-20190706.png alt><br>(click to read more)</a></p></section><section><h3 id=what-is-recursion>What is recursion</h3><ul><li>Reusing a function</li><li>Calling itself</li><li>Similar to a loop</li><li>But not linear, instead it could be exponential</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>recursive</span>(x):
</span></span><span style=display:flex><span>    print(x)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> x <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>:
</span></span><span style=display:flex><span>        recursive(x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span></code></pre></div></section><section><h3 id=why-recursion>Why recursion</h3><p>What is the advantage over loops?</p><ul><li>Divide-and-conquer type problems</li><li>Tree search</li><li>Sorting</li><li>Elegant solution</li></ul><p>Limitations?</p><span class=fragment><ul><li>Less efficient</li><li>Can exhaust program stack</li></ul></span></section><section><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/Qk0zUZW-U_M?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div></section><section><h3 id=designing-a-recursive-algorithm>Designing a recursive algorithm</h3><ol><li>Do you have a nesting doll situation? Identify the part in your problem that repeats and when that happens.</li><li><span class=fragment>Identify when the recursion ends. What is the condition that stops it?</span></li></ol></section><section><h3 id=example-factorial>Example: Factorial</h3><p>$$f(n)=n!$$
$$f(n)=n\times{}(n-1)\times\cdots\times{}2\times{}1$$</p><p>What is the <strong>repeating part</strong> versus the <strong>termination condition</strong>?</p><span class=fragment><ol><li>Repeating pattern: each time multiply with one less number $$f(n)=n\times f(n-1)$$</li><li>Termination condition: we stop at 1 $$f(1)=1$$</li></ol></span></section><section><h3 id=classic-example-factorial>Classic example: factorial</h3><p>For demo purposes only, not today&rsquo;s class activity.</p><iframe src="https://jupyterlite.github.io/demo/repl/index.html?kernel=python&toolbar=1&code=def%20factorial(n):%0A%20%20if%20n%20%3C=%201:%0A%20%20%20%20return%201%0A%20%20else:%0A%20%20%20%20return%20%20n%20*%20factorial(n%20-%201)%0A%20%20%20%20" width=100% height=400></iframe><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span>num <span style=color:#f92672>=</span> int(input(<span style=color:#e6db74>&#34;Enter a number to factorialize:&#34;</span>))
</span></span><span style=display:flex><span>print(<span style=color:#e6db74>&#34;Factorio of&#34;</span>, num, <span style=color:#e6db74>&#34;is&#34;</span>, factorial(num))
</span></span></code></pre></div></section><section><h3 id=trees>Trees</h3><p>A <a href=https://en.wikipedia.org/wiki/Binary_tree target=_blank rel="noreferrer noopener">binary tree</a>
:</p><div style=width:150px;height:150px;margin-left:auto;margin-right:auto><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 80 57"><g transform="translate(8,16)"><path d="M16 32 32 0" fill="none" stroke="currentcolor"/><path d="M32 0 48 32" fill="none" stroke="currentcolor"/><circle cx="16" cy="32" r="6" stroke="currentcolor" fill="#fff"/><circle cx="32" cy="0" r="6" stroke="currentcolor" fill="#fff"/><circle cx="48" cy="32" r="6" stroke="currentcolor" fill="#fff"/><text text-anchor="middle" x="0" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="48" y="4" fill="currentcolor" style="font-size:1em">b</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">c</text></g></svg></div></div><p>Always true in <a href=https://en.wikipedia.org/wiki/Binary_search_tree target=_blank rel="noreferrer noopener">sorted binary tree (or binary search tree - BST)</a>
:
$a&lt;b&lt;c$</p><p>Not a linear data structure, <code>b</code> is root node, <code>b.left=a</code> and <code>b.right=c</code></p><div style=width:500px;margin-left:auto;margin-right:auto><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Node</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, info): 
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>info <span style=color:#f92672>=</span> info
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>left <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>right <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span> 
</span></span></code></pre></div></div></section><section><h3 id=traversing-trees-without-recursion>Traversing trees without recursion</h3><p>Can we write a non-recursive program to count all the nodes in tree?</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 72 169"><g transform="translate(8,16)"><path d="M20 24 28 8" fill="none" stroke="currentcolor"/><path d="M4 72l8-16" fill="none" stroke="currentcolor"/><path d="M36 72l8-16" fill="none" stroke="currentcolor"/><path d="M36 104l8 16" fill="none" stroke="currentcolor"/><path d="M36 8l8 16" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="0" y="100" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="16" y="52" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="32" y="4" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="32" y="100" fill="currentcolor" style="font-size:1em">6</text><text text-anchor="middle" x="48" y="52" fill="currentcolor" style="font-size:1em">8</text><text text-anchor="middle" x="48" y="148" fill="currentcolor" style="font-size:1em">7</text></g></svg></div><p>Start with <code>root</code> node object (<code>root.info=4</code>), and you can go <code>root.left</code> or <code>root.right</code> to get to the next node. If there is no node, it will be an empty object (<code>None</code>).</p><span class=fragment><p>Does it work for any tree?</p></span></section><section><h3 id=with-recursion>With recursion</h3><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 72 169"><g transform="translate(8,16)"><path d="M20 24 28 8" fill="none" stroke="currentcolor"/><path d="M4 72l8-16" fill="none" stroke="currentcolor"/><path d="M36 72l8-16" fill="none" stroke="currentcolor"/><path d="M36 104l8 16" fill="none" stroke="currentcolor"/><path d="M36 8l8 16" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="0" y="100" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="16" y="52" fill="currentcolor" style="font-size:1em">3</text><text text-anchor="middle" x="32" y="4" fill="currentcolor" style="font-size:1em">4</text><text text-anchor="middle" x="32" y="100" fill="currentcolor" style="font-size:1em">6</text><text text-anchor="middle" x="48" y="52" fill="currentcolor" style="font-size:1em">8</text><text text-anchor="middle" x="48" y="148" fill="currentcolor" style="font-size:1em">7</text></g></svg></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=nohighlight data-noescape><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>node_count</span>(node, count):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> node<span style=color:#f92672>.</span>left:
</span></span><span style=display:flex><span>        count <span style=color:#f92672>=</span> node_count(node<span style=color:#f92672>.</span>left, count <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> node<span style=color:#f92672>.</span>right:
</span></span><span style=display:flex><span>        count <span style=color:#f92672>=</span> node_count(node<span style=color:#f92672>.</span>right, count <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> count
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(node_count(root, <span style=color:#ae81ff>1</span>))
</span></span></code></pre></div><span class=fragment><p>Does it work for any tree?</p></span></section><section><h3 id=class-activity-solve-one-of-these-problems>Class activity: Solve ONE of these problems</h3><ol><li><a href="https://www.hackerrank.com/challenges/tree-inorder-traversal/problem?isFullScreen=true" target=_blank rel="noreferrer noopener">Inorder Traversal (HackerRank)</a></li><li><a href="https://www.hackerrank.com/challenges/tree-preorder-traversal/problem?isFullScreen=true" target=_blank rel="noreferrer noopener">Preorder Traversal (HackerRank)</a></li><li><a href="https://www.hackerrank.com/challenges/tree-postorder-traversal/problem?isFullScreen=true" target=_blank rel="noreferrer noopener">Postorder Traversal (HackerRank)</a></li></ol><p>Advanced:</p><ol><li><a href="https://www.hackerrank.com/challenges/tree-height-of-a-binary-tree/problem?isFullScreen=true" target=_blank rel="noreferrer noopener">Height of binary tree (HackerRank)</a></li><li><a href="https://www.hackerrank.com/challenges/binary-search-tree-insertion/problem?isFullScreen=true" target=_blank rel="noreferrer noopener">Binary search tree insertion</a></li></ol><p>Post your solution link on Piazza.</p></section><section><p><a href=https://xkcd.com/1739/ target=_blank rel="noreferrer noopener"><img src=https://imgs.xkcd.com/comics/fixing_problems.png alt><br>(click to read more)</a></p></section></div></div><script type=text/javascript src=/lectures-prog-data-analysis/reveal-hugo/object-assign.js></script><script src=/lectures-prog-data-analysis/reveal-js/dist/reveal.js></script><script type=text/javascript src=/lectures-prog-data-analysis/reveal-js/plugin/markdown/markdown.js></script><script type=text/javascript src=/lectures-prog-data-analysis/reveal-js/plugin/highlight/highlight.js></script><script type=text/javascript src=/lectures-prog-data-analysis/reveal-js/plugin/zoom/zoom.js></script><script type=text/javascript src=/lectures-prog-data-analysis/reveal-js/plugin/notes/notes.js></script><script type=text/javascript>function camelize(e){return e&&Object.keys(e).forEach(function(t){newK=t.replace(/(_\w)/g,function(e){return e[1].toUpperCase()}),newK!=t&&(e[newK]=e[t],delete e[t])}),e}var revealHugoDefaults={center:!0,controls:!0,history:!0,progress:!0,transition:"slide"},revealHugoSiteParams={custom_theme:"reveal-hugo/themes/robot-lung.css",height:720,history:!0,slide_number:!0,width:1280},revealHugoPageParams={},revealHugoPlugins={plugins:[RevealMarkdown,RevealHighlight,RevealZoom,RevealNotes]},options=Object.assign({},camelize(revealHugoDefaults),camelize(revealHugoSiteParams),camelize(revealHugoPageParams),camelize(revealHugoPlugins));Reveal.initialize(options)</script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},svg:{fontCache:"global"}}</script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js></script><a class=home-link href=https://cengique.github.io/lectures-prog-data-analysis/>Home</a></body></html>